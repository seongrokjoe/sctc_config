<UserControl x:Class="SCTC_CONFIG.Views.XmlDriverPanelView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <DockPanel>
        <Border DockPanel.Dock="Top" Style="{StaticResource XmlPanelHeader}">
            <TextBlock Text="Driver" Style="{StaticResource XmlPanelHeaderText}"/>
        </Border>
        <ScrollViewer VerticalScrollBarVisibility="Auto" Background="White">
            <ItemsControl ItemsSource="{Binding Items}" Margin="0">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Style="{StaticResource ItemRow}" Padding="8,8">
                            <StackPanel>
                                <!-- Row 1: Name / FileName -->
                                <Grid Margin="0,0,0,5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="{Binding Name}"
                                               Style="{StaticResource DriverName}" Margin="0,0,10,0"/>
                                    <TextBlock Grid.Column="1" Text="{Binding FileName}"
                                               Style="{StaticResource DriverFileName}"/>
                                </Grid>
                                <!-- Row 2: NeedLoad toggle -->
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                    <TextBlock Text="NeedLoad" Style="{StaticResource SectionLabel}"/>
                                    <ToggleButton Style="{StaticResource ValueToggle}"
                                                  IsChecked="{Binding NeedLoad}"
                                                  IsEnabled="{Binding HasNeedLoad}"
                                                  Content="{Binding NeedLoad, Converter={StaticResource BoolToToggleTextConverter}, ConverterParameter=lower}"/>
                                </StackPanel>
                                <!-- Row 3: Args -->
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="Args" Style="{StaticResource SectionLabel}"/>
                                    <TextBox Width="68" Margin="0,0,3,0" Style="{StaticResource ArgTextBox}"
                                             Text="{Binding Arg1, UpdateSourceTrigger=PropertyChanged}"
                                             IsEnabled="{Binding HasArg1}" ToolTip="Arg1"/>
                                    <TextBox Width="68" Margin="0,0,3,0" Style="{StaticResource ArgTextBox}"
                                             Text="{Binding Arg2, UpdateSourceTrigger=PropertyChanged}"
                                             IsEnabled="{Binding HasArg2}" ToolTip="Arg2"/>
                                    <TextBox Width="68" Margin="0,0,3,0" Style="{StaticResource ArgTextBox}"
                                             Text="{Binding Arg3, UpdateSourceTrigger=PropertyChanged}"
                                             IsEnabled="{Binding HasArg3}" ToolTip="Arg3"/>
                                    <TextBox Width="68" Margin="0,0,3,0" Style="{StaticResource ArgTextBox}"
                                             Text="{Binding Arg4, UpdateSourceTrigger=PropertyChanged}"
                                             IsEnabled="{Binding HasArg4}" ToolTip="Arg4"/>
                                    <TextBox Width="68" Style="{StaticResource ArgTextBox}"
                                             Text="{Binding Arg5, UpdateSourceTrigger=PropertyChanged}"
                                             IsEnabled="{Binding HasArg5}" ToolTip="Arg5"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </DockPanel>
</UserControl>
